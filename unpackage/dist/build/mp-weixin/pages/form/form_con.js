(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/form/form_con"],{"2d47":function(t,o,e){"use strict";e.r(o);var a=e("e9d4"),n=e.n(a);for(var i in a)"default"!==i&&function(t){e.d(o,t,(function(){return a[t]}))}(i);o["default"]=n.a},"41ea":function(t,o,e){"use strict";(function(t){e("93c3");a(e("66fd"));var o=a(e("47f9"));function a(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])},"47f9":function(t,o,e){"use strict";e.r(o);var a=e("b1d4"),n=e("2d47");for(var i in n)"default"!==i&&function(t){e.d(o,t,(function(){return n[t]}))}(i);e("e05c");var r,c=e("f0c5"),f=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);o["default"]=f.exports},b1d4:function(t,o,e){"use strict";var a;e.d(o,"b",(function(){return n})),e.d(o,"c",(function(){return i})),e.d(o,"a",(function(){return a}));var n=function(){var t=this,o=t.$createElement;t._self._c},i=[]},e05c:function(t,o,e){"use strict";var a=e("f5ab"),n=e.n(a);n.a},e9d4:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a=getApp().globalData.comm,n=function(){e.e("components/test_com").then(function(){return resolve(e("9c23"))}.bind(null,e)).catch(e.oe)},i=function(){Promise.all([e.e("common/vendor"),e.e("components/address/AddressPicker")]).then(function(){return resolve(e("82bd"))}.bind(null,e)).catch(e.oe)},r={components:{testCom:n,AddressPicker:i},data:function(){return{form_data:[{}],id:0,planLocate:"请选择地址"}},onLoad:function(t){this.form_con(t.id),this.id=t.id},methods:{form_con:function(t){var o=this;this.$request(a.api.form_list,{id:t,uid:1},"post").then((function(t){200==t.code&&(o.form_data=t.data.data,o.form_data[0].form_con=JSON.parse(o.form_data[0].form_con),o.time_end()),console.log(o.form_data)}))},change:function(t){var o=this;console.log(JSON.stringify(t.data)),this.planLocate="",t.data.forEach((function(t,e){o.planLocate+=0===e?t.name:"-"+t.name}));this.planLocate.split("-");this.form_data[0].form_con[t.indexs].value=this.planLocate,console.log(this.form_data[0].form_con[t.indexs])},show:function(t){this.form_data[0].form_con[t.indexs].value=t.selectRes,console.log(this.form_data[0].form_con[t.indexs])},radioChange:function(t,o){for(var e=0;e<this.form_data[0].form_con[o].radio_item.data.length;e++)this.form_data[0].form_con[o].radio_item.data[e].value===t.target.value&&(this.form_data[0].form_con[o].radio_item.checked=e);console.log(this.form_data[0].form_con[o])},checkboxChange:function(t,o){for(var e=0;e<this.form_data[0].form_con[o].checkbox_item.data.length;e++)t.target.value.indexOf(this.form_data[0].form_con[o].checkbox_item.data[e].value)>-1?this.form_data[0].form_con[o].checkbox_item.data[e].checked=!0:this.form_data[0].form_con[o].checkbox_item.data[e].checked=!1;console.log(this.form_data[0].form_con[o])},time_end:function(){for(var t=this,o=0;this.form_data.length>o;o++){var e=a.time_ends(this.form_data[o].time_end);e<=0?this.form_data[o].time_ends="表单已结束":(e<300&&(this.form_data[o].time_few=1),this.form_data[o].time_ends=a.time_date(e))}setTimeout((function(){t.$forceUpdate(),t.time_end()}),1e3)},form_oper:function(t){var o=this,e=this.form_data[0],n=1==t?e.top:2==t?e.coll:e.over;if(n){if(3==t)return;n=0}else n=1;console.log(this.form_data),this.$request(a.api.form_oper,{form_id:this.id,type:t,state:n},"post").then((function(t){200==t.code&&o.form_con(o.id),a.tan(t.msg,1e3)}))},submit:function(){var o=this.form_data[0].form_con;console.log(o);var e=0,n="",i="";for(e in o){var r="",c=o[e];if(3!==c.type&&4!==c.type)i+=c.value+"#";else if(3==c.type)i+=c.radio_item.data[c.radio_item.checked].name+"#";else if(4==c.type){for(e=0;e<c.checkbox_item.data.length;e++)console.log(c.checkbox_item.data[e]),c.checkbox_item.data[e].checked&&(r+=c.checkbox_item.data[e].name+"&");r=r.substr(0,r.length-1),i+=r+"#"}n+=c.pro+"#"}n=n.substr(0,n.length-1),i=i.substr(0,i.length-1),this.$request(a.api.form_coll,{id:this.id,coll_con:i,coll_title:n}).then((function(o){a.tan(o.msg,1e3),200==o.code&&setTimeout((function(){t.navigateTo({url:"/pages/form/form_list"})}),1e3)}))}}};o.default=r}).call(this,e("543d")["default"])},f5ab:function(t,o,e){}},[["41ea","common/runtime","common/vendor"]]]);