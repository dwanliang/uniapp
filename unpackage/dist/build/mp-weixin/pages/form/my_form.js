(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/form/my_form"],{"0e91":function(t,a,e){"use strict";e.r(a);var o=e("ddf1"),n=e("245f");for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);e("cc20");var f,r=e("f0c5"),l=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],f);a["default"]=l.exports},"245f":function(t,a,e){"use strict";e.r(a);var o=e("c9e3"),n=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);a["default"]=n.a},"6c62":function(t,a,e){},"719a":function(t,a,e){"use strict";(function(t){e("93c3");o(e("66fd"));var a=o(e("0e91"));function o(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},c9e3:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=getApp().globalData.comm,n=function(){e.e("components/longPress").then(function(){return resolve(e("fdfd"))}.bind(null,e)).catch(e.oe)},i={components:{longPress:n},data:function(){return{ras:0,tas_data:["我的表单","模板表单"],color:["#80ff80","#4dd2ff","#ff80aa","#eb99ff","#ff8080","#b3e0ff","#6666ff"],form_data:[],page:1,loadingText:"加载中...",loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},status:["","loading","noMore"],longFlag:!1,select_allfalg:!1}},onLoad:function(){this.form_list()},onPullDownRefresh:function(){var t=this;t.page=1,t.form_data=[],setTimeout((function(){t.form_list(t.ras)}),1e3)},onReachBottom:function(){null!=this.timer&&clearTimeout(this.timer);var t=this;if(0!==t.loadingType)return!1;t.page++,t.loadingType=1,setTimeout((function(){t.form_list()}),1e3)},methods:{form_list:function(a){var e=this;t.showNavigationBarLoading();var n={page:this.page},i=o.api.my_form;a&&(Object.assign(n,{coll:1}),i=o.api.form_template),this.$request(i,n).then((function(a){t.hideNavigationBarLoading(),t.stopPullDownRefresh();var o=0;for(o in a.data.data)a.data.data[o].checked=!1,e.form_data.push(a.data.data[o]);200==a.code?(e.loadingType=0,e.time_end(),a.data.last_page==e.page&&(e.loadingType=2)):e.loadingType=2}))},tak_click:function(t){this.ras=t,this.longFlag=!1,this.page=1,this.form_data=[],this.form_list(t)},long:function(t){this.longFlag||(this.longFlag=!0)},longfalse:function(t){this.longFlag=t.longFlag,this.form_data=t.data},select_all:function(t){this.select_allfalg=t.select_allfalg},openinfo:function(a,e,o){if(this.longFlag){this.form_data[o].checked=!this.form_data[o].checked,this.form_data[o].checked||(this.select_allfalg=!1);for(var n=!0,i=0;i<this.form_data.length;i++)if(!this.form_data[i].checked){n=!1;break}this.select_allfalg=n}else if(e){var f=this.form_data[o].color1,r=this.form_data[o].color2;t.navigateTo({url:"/pages/form/form_add?id="+a+"&color1="+f+"&color2="+r})}else t.navigateTo({url:"/pages/form/form_data?id="+a})},form_delete:function(){if(this.longFlag){var a=this;t.showModal({title:"是否删除选中",success:function(t){if(t.confirm){for(var e=[],n=0;n<a.form_data.length;n++)a.form_data[n].checked&&e.push(a.form_data[n].id);var i={ids:e.join(",")};a.$request(o.api.form_delete,i).then((function(t){o.tan(t.msg,1e3),200==t.code&&setTimeout((function(){a.longFlag=!1,a.form_data=[],a.note_list()}),1e3)}))}}})}},form_add:function(a){t.navigateTo({url:"/pages/form/form_add"})},time_end:function(){for(var t=this,a=0;this.form_data.length>a;a++){var e=o.time_ends(this.form_data[a].time_end);e<=0?this.form_data[a].time_ends="表单已结束":(e<300&&(this.form_data[a].time_few=1),this.form_data[a].time_ends=o.time_date(e))}setTimeout((function(){t.$forceUpdate(),t.time_end()}),1e3)}}};a.default=i}).call(this,e("543d")["default"])},cc20:function(t,a,e){"use strict";var o=e("6c62"),n=e.n(o);n.a},ddf1:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return o}));var o={uniLoadMore:function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"1686"))}},n=function(){var t=this,a=t.$createElement;t._self._c},i=[]}},[["719a","common/runtime","common/vendor"]]]);