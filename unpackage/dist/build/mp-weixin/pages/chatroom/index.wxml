<view><view class="cu-chat"><block wx:for="{{chat_data}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['cu-item',item.iden==1?'self':'']}}"><block wx:if="{{item.iden==2}}"><view data-event-opts="{{[['tap',[['user_friend',['$0'],[[['chat_data','',index,'user_id']]]]]]]}}" class="cu-avatar radius" style="{{'background-image:'+('url('+item.user_head+')')+';'}}" bindtap="__e"></view></block><view class="main"><block wx:if="{{item.iden==2}}"><view class="user_name">{{item.user_name}}</view></block><view class="{{['content shadow',item.iden==1?'bg-green':'']}}"><text>{{item.chat_con}}</text></view></view><block wx:if="{{item.iden==1}}"><view data-event-opts="{{[['tap',[['user_friend',['$0'],[[['chat_data','',index,'user_id']]]]]]]}}" class="cu-avatar radius" style="{{'background-image:'+('url('+item.user_head+')')+';'}}" bindtap="__e"></view></block><view class="date">{{item.add_time}}</view></view></block></view><view class="cu-bar foot input" style="{{'bottom:'+(InputBottom+'px')+';'}}"><view class="action"><text class="cuIcon-sound text-grey"></text></view><input class="solid-bottom" adjust-position="{{false}}" focus="{{false}}" maxlength="300" cursor-spacing="10" data-event-opts="{{[['focus',[['InputFocus',['$event']]]],['blur',[['InputBlur',['$event']]]],['input',[['__set_model',['','chat_conten','$event',[]]]]]]}}" value="{{chat_conten}}" bindfocus="__e" bindblur="__e" bindinput="__e"/><view class="action"><text class="cuIcon-emojifill text-grey"></text></view><button class="{{['cu-btn bg-green shadow',chat_conten.length==0?'bg-black':'']}}" disabled="{{chat_conten.length==0}}" data-event-opts="{{[['tap',[['send',['$event']]]]]}}" bindtap="__e">发送</button></view></view>